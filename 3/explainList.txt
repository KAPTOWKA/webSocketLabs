объявляем переменную websocket для работы с ws пакетом.

далее создаем дуплексный канал с помощью WebSocketStream

это значит, что в нашем потоке мы можем как передавать так и получать сообщения

duplex.pipe(process.stdout) - выводим сообщения от сервера в стандартный поток вывода

process.stdin.pipe(duplex) - посылаем сообщения сервера, вводя сообщение в стандартном потоке вывода

сообщение, которое будет появляться на сервере (message) - будет типа буффер, так как мой сервер, использует

string методы для определения ID клиента и тела сообщения, то они просто так работать не будут. для этого

нам нужно проверить, является ли входимое сообщение буфером и преобразовать его к string а так же добавить id клиента перед сообщением. 
        if(Buffer.isBuffer(message)){
            message=ws.id+message.toString("utf-8");
        }

теперь мы с помощью консоли можем получать и сразу же отправлять данные вводя в нее. profit!